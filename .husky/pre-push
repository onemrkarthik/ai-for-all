echo "ğŸ” Running pre-push checks..."

# Run type checking
echo "ğŸ“ Type checking..."
npm run type-check --silent

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Type check failed. Please fix TypeScript errors before pushing."
  echo ""
  exit 1
fi

# Run architecture tests
echo "ğŸ—ï¸  Running architecture tests..."
npm test -- architecture --passWithNoTests --silent

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Architecture tests failed. Please fix violations before pushing."
  echo ""
  exit 1
fi

echo "âœ… Pre-push checks passed!"
